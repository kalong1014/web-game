/**
 * 名称:x_move
 * 功能:基于jquery的动画插件
 */
(function(window){var tools={clone:function(par){var f=function(){};f.prototype=new par;return f;},getBow:function(){var Sys={};var ua=navigator.userAgent.toLowerCase();var s;(s=ua.match(/msie ([\d.]+)/))?Sys.ie=s[1]:(s=ua.match(/firefox\/([\d.]+)/))?Sys.firefox=s[1]:(s=ua.match(/chrome\/([\d.]+)/))?Sys.chrome=s[1]:(s=ua.match(/opera.([\d.]+)/))?Sys.opera=s[1]:(s=ua.match(/version\/([\d.]+).*safari/))?Sys.safari=s[1]:0;if(Sys.ie&&Sys.ie=='6.0')return'IE6';else if(Sys.ie&&Sys.ie=='7.0')return'IE7';else if(Sys.ie&&Sys.ie=='8.0')return'IE8';else if(Sys.ie&&Sys.ie=='9.0')return'IE9';else if(Sys.ie&&Sys.ie=='10.0')return'IE10';else if(Sys.ie&&Sys.ie=='11.0')return'IE11';else if(Sys.firefox)return'';else if(Sys.chrome)return'-webkit-';else if(Sys.opera)return'-o-';else if(Sys.safari)return'-a-';else return'';},trim:function(s){return s.replace(/(^\s*)|(\s*$)/ig,"");}};var animateFun={tabMoveFun:function($ctrled,mode,p_index,bow,playTime,runLength){switch(mode){case'toggle':this.toggleFun($ctrled,p_index,bow);break;case'fade':this.fadeFun($ctrled,p_index,bow,playTime);break;case'xrun':this.runFun($ctrled,p_index,'x',bow,playTime,runLength);break;case'yrun':this.runFun($ctrled,p_index,'y',bow,playTime,runLength);break;default:return;}},toggleFun:function($ctrled,p_index){var $current=$ctrled.children().eq(p_index);$current.show().siblings().hide();},fadeFun:function($ctrled,p_index,bow,playTime){var $current=$ctrled.children().eq(p_index);if(bow!='IE6'&&bow!='IE7'&&bow!=''){$current.fadeIn(playTime).siblings().stop().fadeOut(playTime);}else{$current.show().siblings().hide();}},runFun:function($ctrled,p_index,toward,bow,playTime,runLength){var move=runLength*(p_index)*-1;if(toward=='x'){$ctrled.clearQueue().animate({'left':move+'px'},playTime);}else if(toward=='y'){$ctrled.clearQueue().animate({'top':move+'px'},playTime);}}};var publicFun={outerSize:function($ctrled,toward){var runLength=0;var $temple=$ctrled.children().eq(0);if(toward=='xrun'){runLength=parseInt($temple.outerWidth(true));}else if(toward=='yrun'){runLength=parseInt($temple.outerHeight(true));}
return runLength;}};var xTabMove=(function(){var xTabMove=function(ctrl,ctrled,param){return new xTabMove.fn.init(ctrl,ctrled,param);}
xTabMove.fn=xTabMove.prototype={constructor:xTabMove,init:function(ctrl,ctrled,param){this.setParam(ctrl,ctrled,param);this.modeFun();this.autoplay=this.autoplay||false;if(param.autoplay){var copy=param;copy['ctrl']=ctrl;xAutoPlay(ctrled,copy);}},setParam:function(ctrl,ctrled,param){this.parent=param.parent||window.document;this.ctrl=ctrl;this.ctrled=ctrled;this.mouse=param.mouse||'hover';this.mode=param.mode||'toggle';this.playTime=param.playTime||300;this.active=param.active||'';this.beginFun=param.beginFun;this.endFun=param.endFun;this.bow=tools.getBow();this.runLength=param.runLength||publicFun.outerSize($(this.ctrled),this.mode);this.now=0;},modeFun:function(){var This=this;$(This.parent).each(function(){var $This=$(this);var $ctrl=$This.find(This.ctrl);var $ctrled=$This.find(This.ctrled);$ctrl.children().each(function(){if(This.mouse=='hover'){$(this).bind({'mouseenter':function(){var $this=$(this);var p_index=$this.index();$this.addClass(This.active).siblings().removeClass(This.active);animateFun.tabMoveFun($ctrled,This.mode,p_index,This.bow,This.playTime,This.runLength);This.moveEndFun($ctrled,p_index);}});}else if(This.mouse=='click'){$(this).bind({'click':function(){var $this=$(this);var p_index=$this.index();$this.addClass(This.active).siblings().removeClass(This.active);animateFun.tabMoveFun($ctrled,This.mode,p_index,This.bow,This.playTime,This.runLength);This.moveEndFun($ctrled,p_index);}});}});});},moveEndFun:function($ctrled,p_index){$ctrled.attr('x-now-data',p_index);this.now=p_index;if(this.endFun)
this.endFun.call(this);}};xTabMove.fn.init.prototype=xTabMove.fn;return xTabMove;})();var xAutoPlay=(function(){var xAutoPlay=function(ctrled,param){return new xAutoPlay.fn.init(ctrled,param);}
xAutoPlay.fn=xAutoPlay.prototype={constructor:xAutoPlay,init:function(ctrled,param){this.setParam(ctrled,param);this.autoPlayFun();},setParam:function(ctrled,param){this.parent=param.parent||window.document;this.ctrl=param.ctrl;this.ctrled=ctrled;this.mode=param.mode||'fade';this.speed=param.speed||3000;this.playTime=param.playTime||300;this.active=param.active||'';this.beginFun=param.beginFun;this.endFun=param.endFun;this.bow=tools.getBow();this.runLength=param.runLength||publicFun.outerSize($(this.ctrled),this.mode);this.now=0;},autoPlayFun:function(){var This=this;$(This.parent).each(function(){var $This=$(this);var $ctrled=$This.find(This.ctrled);var $aCtrled=$ctrled.children();var $ctrl;var timer=null;$ctrled.attr('x-now-data','0');if(This.ctrl!=null&&This.ctrl!=''){$ctrl=$This.find(This.ctrl);$ctrl.bind({'mouseleave':function(){if(!timer)timer=This.timeFun($ctrled,$aCtrled,$ctrl);},'mouseenter':function(){clearInterval(timer);timer=null;}});}
$ctrled.bind({'mouseleave':function(){if(!timer)timer=This.timeFun($ctrled,$aCtrled,$ctrl);},'mouseenter':function(){clearInterval(timer);timer=null;}});if(!timer)timer=This.timeFun($ctrled,$aCtrled,$ctrl);});},timeFun:function($ctrled,$aCtrled,$ctrl){var This=this;var timer=setInterval(function(){var go=(parseInt($ctrled.attr('x-now-data'))+1)%$aCtrled.length;if(This.ctrl!=null&&This.ctrl!=''){$ctrl.children().eq(go).addClass(This.active).siblings().removeClass(This.active);}
animateFun.tabMoveFun($ctrled,This.mode,go,This.bow,This.playTime,This.runLength);This.moveEndFun($ctrled,go);},3000);return timer;},moveEndFun:function($ctrled,p_index){$ctrled.attr('x-now-data',p_index);this.now=p_index;if(this.endFun)
this.endFun.call(this);}};xAutoPlay.fn.init.prototype=xAutoPlay.fn;return xAutoPlay;})();var xCtrlTurn=(function(){var xCtrlTurn=function(ctrled,prev,next,param){return new xCtrlTurn.fn.init(ctrled,prev,next,param);}
xCtrlTurn.fn=xCtrlTurn.prototype={constructor:xCtrlTurn,init:function(ctrled,prev,next,param){this.setParam(ctrled,prev,next,param);this.modeFun();},setParam:function(ctrled,prev,next,param){this.parent=param.parent||window.document;this.ctrl=param.ctrl;this.ctrled=ctrled;this.prev=prev;this.next=next;this.mode=param.mode||'toggle';this.playTime=param.playTime||300;this.active=param.active||'';this.btn_active=param.btn_active||'';this.endFun=param.endFun;this.bow=tools.getBow();this.runLength=param.runLength||publicFun.outerSize($(this.ctrled),this.mode);},modeFun:function(){var This=this;$(This.parent).each(function(){var $This=$(this);var $ctrl=$This.find(This.ctrl);var $ctrled=$This.find(This.ctrled);var $aCtrled=$ctrled.children();var $prev=$This.find(This.prev);var $next=$This.find(This.next);$ctrled.attr('x-now-data','0');$prev.bind({'click':function(){var go=($aCtrled.length+parseInt($ctrled.attr('x-now-data'))-1)%$aCtrled.length;animateFun.tabMoveFun($ctrled,This.mode,go,This.bow,This.playTime,This.runLength);This.moveEndFun($ctrled,go);if(This.ctrl!=null&&This.ctrl!=''){$ctrl.children().eq(go).addClass(This.active).siblings().removeClass(This.active);}},'mouseenter':function(){$(this).addClass(This.btn_active);},'mouseleave':function(){$(this).removeClass(This.btn_active);}});$next.bind({'click':function(){var go=(parseInt($ctrled.attr('x-now-data'))+1)%$aCtrled.length;animateFun.tabMoveFun($ctrled,This.mode,go,This.bow,This.playTime,This.runLength);This.moveEndFun($ctrled,go);if(This.ctrl!=null&&This.ctrl!=''){$ctrl.children().eq(go).addClass(This.active).siblings().removeClass(This.active);}},'mouseenter':function(){$(this).addClass(This.btn_active);},'mouseleave':function(){$(this).removeClass(This.btn_active);}});});},moveEndFun:function($ctrled,p_index){$ctrled.attr('x-now-data',p_index);this.now=p_index;if(this.endFun)
this.endFun.call(this);}};xCtrlTurn.fn.init.prototype=xCtrlTurn.fn;return xCtrlTurn;})();window.xTabMove=xTabMove;window.xAutoPlay=xAutoPlay;window.xCtrlTurn=xCtrlTurn;})(window);



$(document).ready(function(){function e(){$(".game-pic").each(function(){var e=$(this).find(".pic-con").find("img"),t=new Image;t.onload=function(){var t=this.width,i=this.height;t>=i?e.css({width:"210px",height:"140px"}):e.css({width:"210px",height:"315px"})},t.src=e.eq(0).attr("src")})}function t(e){e&&e.preventDefault?e.preventDefault():window.event.returnValue=!1}function i(){var e,t={},i=navigator.userAgent.toLowerCase();return(e=i.match(/msie ([\d.]+)/))?t.ie=e[1]:(e=i.match(/firefox\/([\d.]+)/))?t.firefox=e[1]:(e=i.match(/chrome\/([\d.]+)/))?t.chrome=e[1]:(e=i.match(/opera.([\d.]+)/))?t.opera=e[1]:(e=i.match(/version\/([\d.]+).*safari/))?t.safari=e[1]:0,t.ie&&"6.0"==t.ie?"IE6":t.ie&&"7.0"==t.ie?"IE7":t.ie&&"8.0"==t.ie?"IE8":t.ie&&"9.0"==t.ie?"IE9":t.ie&&"10.0"==t.ie?"IE10":t.ie&&"11.0"==t.ie?"IE11":t.firefox?"":t.chrome?"-webkit-":t.opera?"-o-":t.safari?"-a-":""}xTabMove(".focus-ctrl",".focus-img",{parent:".foucs-con",active:"current",mode:"fade",autoplay:"true"}),xTabMove(".role-player-list>ul",".right-box",{parent:".game-role",active:"current"}),xTabMove(".tag-title",".contain",{parent:".tab-relative-art",active:"current"}),xTabMove(".inside-tag",".contain",{parent:".side-ctrl",active:"current"}),xTabMove(".tag-title",".context-con",{parent:".right-news-con",active:"current"});var n=$(".detail-list").length,o=parseInt(978/n);$(".detail-list").each(function(){this.style.cssText="width:"+o+"px"}),$(".detail-tit").children().each(function(){this.style.cssText="width:"+o+"px"}),$(".role-player-list").each(function(){var e=$(this).children("ul").children("li"),t=e.length;if(6>t){var i=parseInt(parseInt($(this).height())/t-1);e.css({height:i+"px","line-height":i+"px"})}}),0==$(".game-role").find(".news-list").length&&$(".game-role").addClass("type2").removeClass("type1"),$(".left-box").each(function(){var e=this;this.pre=$(this).find(".prev").eq(0),this.next=$(this).find(".next").eq(0),this.img_ul=$(this).find(".role-player-list").eq(0).children("ul"),this.img_leg=$(this.img_ul).find("li").length,this.li_height=30,this.max=6,this.now=0,this.move_legth=3,this.status=!1,this.pre.addClass("no"),this.img_leg<this.max&&this.next.addClass("no"),this.img_move=function(t){if($(t).attr("class").match(/next/)){if(!(e.now+e.max<e.img_leg))return;e.now+e.max+e.move_legth>e.img_leg?e.now=e.img_leg-e.max:e.now+=e.move_legth}else{if(0==e.now)return;e.now-e.move_legth<0?e.now=0:e.now-=e.move_legth}var i=-1*e.li_height*e.now;i+="px",e.img_ul.animate({top:i},"fast"),e.now<=0?e.pre.addClass("no"):e.pre.removeClass("no"),e.now+e.max>=e.img_leg?e.next.addClass("no"):e.next.removeClass("no")},this.pre.bind({click:function(){e.img_move(this)},mouseenter:function(){0==e.now||$(this).hasClass("no")||$(this).addClass("current")},mouseleave:function(){$(this).removeClass("current")}}),this.next.bind({click:function(){e.img_move(this)},mouseenter:function(){e.now+e.max<e.img_leg&&!$(this).hasClass("no")&&$(this).addClass("current")},mouseleave:function(){$(this).removeClass("current")}})}),$(".game-pic").each(function(){e();var t=this;this.pre=$(this).find(".pic-prev").eq(0),this.next=$(this).find(".pic-next").eq(0),this.img_ul=$(this).find(".pic-con").eq(0).children("ul"),this.img_leg=$(this.img_ul).find("li").length,this.li_width=$(this.img_ul).find("li").eq(0).outerWidth(!0),this.img_ul.css({width:this.img_leg*this.li_width+this.li_width+"px"}),this.max=4,this.now=0,this.move_legth=2,this.status=!1,this.pre.addClass("no"),this.img_leg<this.max&&this.next.addClass("no"),this.img_move=function(e){if($(e).attr("class").match(/pic-next/)){if(!(t.now+t.max<t.img_leg))return;t.now+t.max+t.move_legth>t.img_leg?t.now=t.img_leg-t.max:t.now+=t.move_legth}else{if(0==t.now)return;t.now-t.move_legth<0?t.now=0:t.now-=t.move_legth}var i=-1*t.li_width*t.now;i+="px",t.img_ul.animate({left:i},"fast"),t.now<=0?t.pre.addClass("no"):t.pre.removeClass("no"),t.now+t.max>=t.img_leg?t.next.addClass("no"):t.next.removeClass("no")},this.pre.bind({click:function(){t.img_move(this)},mouseenter:function(){0==t.now||$(this).hasClass("no")||$(this).addClass("current")},mouseleave:function(){$(this).removeClass("current")}}),this.next.bind({click:function(){t.img_move(this)},mouseenter:function(){t.now+t.max<t.img_leg&&!$(this).hasClass("no")&&$(this).addClass("current")},mouseleave:function(){$(this).removeClass("current")}})}),$(".adver-close").click(function(){$(this).parent().hide()}),$(".advertise3").click(function(){$(this).hide()}),function(e){function t(e){var t=$(e).offset(),n=t.top-44;$("body,html").animate({scrollTop:n},500,function(){i=!0})}var i=!0,n=$(".littlt-fix-nav"),o=n.find(".to-top");n.delegate(".togo","click",function(){if(i){var e=$(this).attr("data-go"),n="#"+e;i=!1,t(n)}}),$(e).scroll(function(){var e=$(this).scrollTop();575>e?(o.removeClass("show"),o.removeClass("togo")):(o.addClass("show"),o.addClass("togo"))})}(window);var s=i();$(".download .i-code").add("#pb_popup .i-code").each(function(){var e=$(this),t=e.children(".code-img"),i=t.find(".er");e.bind({mouseenter:function(){t.show()},mouseleave:function(){t.hide()}}),"IE6"==s||"IE7"==s||"IE8"==s?i.append(xMan_qrcode({render:"table",width:150,height:150,correctLevel:0,text:e.attr("data-code")})):i.append(xMan_qrcode({render:"canvas",width:150,height:150,correctLevel:0,text:e.attr("data-code")}))}),$(".game-gift-2").delegate(".tips-con","mouseenter",function(){$(this).children(".tips").show()}),$(".game-gift-2").delegate(".tips-con","mouseleave",function(){$(this).children(".tips").hide()}),$(".code-show").click(function(e){t(e),$("#pb_popup").show(),$("body").addClass("popup_of"),$(this).attr("class").match("android")?($("#popup-android-con").show(),$("#popup-apple-con").hide()):($("#popup-android-con").hide(),$("#popup-apple-con").show())}),$("#pb_popup .close").click(function(){$("#pb_popup").hide(),$("body").removeClass("popup_of")}),$("#pb_popup").bind({click:function(){$(this).hide(),$("body").removeClass("popup_of")}}),$("#pb_popup").find(".popup").bind({mouseenter:function(){$("#pb_popup").unbind()},mouseleave:function(){$("#pb_popup").bind({click:function(){$(this).hide(),$("body").removeClass("popup_of")}})}}),function(){$(".game-pic-yr").each(function(){function e(){o.each(function(e){var t=$(this);t.removeClass("current"),e==(c-1+a)%a?t.css(i[0],100):e==c?(t.css(i[1],300),t.addClass("current")):e==(c+1+a)%a?t.css(i[2],100):t.hide()})}function t(e){h=0;var t=o.filter(".current"),n=(t.index()+e+o.length)%o.length;s.fadeOut(50),o.eq(n).css("z-index","10"),o.each(function(e){var t=$(this);t.removeClass("current"),e==(n-1+a)%a?(t.css(i[0],100),t.fadeIn()):e==n?(t.animate(i[1],300),t.addClass("current"),setTimeout(function(){s.fadeIn(400,function(){h=1})},100)):e==(n+1+a)%a?(t.css(i[2],100),t.fadeIn()):t.fadeOut()})}var i,n=$(this),o=n.find(".pic-con li"),s=n.find(".meng-con"),a=o.length,c=Math.ceil(a/2)-1,h=1,r=o.eq(0).find("img"),l=new Image;l.onload=function(){var c=this.width,r=this.height;return c>=r?(i=[{left:"0",top:"50px",width:"300px",height:"200px","z-index":"5"},{left:"120px",top:"0",width:"480px",height:"320px","z-index":"10"},{left:"420px",top:"50px",width:"300px",height:"200px","z-index":"5"}],n.addClass("style1")):(i=[{left:"0",top:"80px",width:"195px",height:"300px","z-index":"5"},{left:"164px",top:"0",width:"327px",height:"480px","z-index":"10"},{left:"470px",top:"80px",width:"195px",height:"300px","z-index":"5"}],n.addClass("style2")),1==a?(o.eq(0).css(i[1]),s.hide(),n.find(".ctrl").hide(),void 0):(e(),n.find(".ctrl").click(function(){h&&($(this).hasClass("prev")?t(-1):t(1))}),void 0)},l.src=r.attr("src")})}(window),function(){var e={};e.now=0,e.move=60,e.lbTime=null,e.$notice=$(".lit-notice .text"),e.$ul=e.$notice.children("ul"),e.length=e.$ul.children().length,e.length>1&&(e.$ul.append(e.$ul.children("li:first").clone()),e.setTime=function(){e.lbTime=setInterval(function(){e.move_animate(e.now)},3e3)},e.move_animate=function(t){var i=-1*e.move*(t+1);e.$ul.animate({top:i+"px"},300,function(){e.now++,e.now==e.length&&(e.$ul.css("top","0"),e.now=0)})},e.setTime())}(window),function(){$(".game-raiders-yr").each(function(){var e=$(this).find(".tag-title").children("li"),t=e.length,i=parseInt(parseInt($(this).width())/t-1);e.css({width:i+"px"})}),xTabMove(".tag-title",".list-con",{parent:".game-raiders-yr",active:"current"})}(window),function(){var e=$("#pb_popup_yr");$(".code-show-yr").click(function(i){t(i),e.show(),$("body").addClass("popup_of")}),e.find(".close").click(function(){e.hide(),$("body").removeClass("popup_of")}),e.bind({click:function(){$(this).hide(),$("body").removeClass("popup_of")}}),e.find(".popup-yr").bind({mouseenter:function(){e.unbind()},mouseleave:function(){e.bind({click:function(){$(this).hide(),$("body").removeClass("popup_of")}})}}),e.find(".i-code").each(function(){var e=$(this);"IE6"==s||"IE7"==s||"IE8"==s?e.append(xMan_qrcode({render:"table",width:180,height:180,correctLevel:0,text:e.attr("data-code")})):e.append(xMan_qrcode({render:"canvas",width:180,height:180,correctLevel:0,text:e.attr("data-code")}))})}(window),function(){$(".down-yure").each(function(){var e=$(this),t=e.find(".btn-con .btn").length;t>2&&e.find(".des").removeClass("long")})}(window),function(){$(".down-yure").find(".more").bind({mouseenter:function(){$(this).find(".tips").show()},mouseleave:function(){$(this).find(".tips").hide()}})}(window),function(){var e=$("#link_pop");if(e.length>0){var t=$(".article-page").find(".pop-link"),i=parseInt(e.position().top)-parseInt(t.eq(0).outerHeight(!0))-10,n=parseInt(e.position().left)+parseInt(e.outerWidth(!0))/2,o=null;t.css({left:n+"px",top:i+"px"}),e.bind({mouseenter:function(){clearTimeout(o),t.show()},mouseleave:function(){o=setTimeout(function(){t.hide()},300)}}),t.bind({mouseenter:function(){clearTimeout(o),t.show()},mouseleave:function(){o=setTimeout(function(){t.hide()},300)}})}}(window)});